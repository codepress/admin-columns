(()=>{var e={669:(e,t,n)=>{e.exports=n(609)},448:(e,t,n)=>{"use strict";var s=n(867),i=n(26),r=n(372),o=n(327),a=n(97),l=n(109),c=n(985),u=n(916);e.exports=function(e){return new Promise((function(t,n){var d=e.data,h=e.headers;s.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(m+":"+f)}var g=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var s="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:s,config:e,request:p};i(t,n,r),p=null}},p.onabort=function(){p&&(n(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,"ECONNABORTED",p)),p=null},s.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&s.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),s.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},609:(e,t,n)=>{"use strict";var s=n(867),i=n(849),r=n(321),o=n(185);function a(e){var t=new r(e),n=i(r.prototype.request,t);return s.extend(n,r.prototype,t),s.extend(n,t),n}var l=a(n(655));l.Axios=r,l.create=function(e){return a(o(l.defaults,e))},l.Cancel=n(263),l.CancelToken=n(972),l.isCancel=n(502),l.all=function(e){return Promise.all(e)},l.spread=n(713),l.isAxiosError=n(268),e.exports=l,e.exports.default=l},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,n)=>{"use strict";var s=n(263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new s(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var s=n(867),i=n(327),r=n(782),o=n(572),a=n(185);function l(e){this.defaults=e,this.interceptors={request:new r,response:new r}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},s.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),s.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,s){return this.request(a(s||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var s=n(867);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){s.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},97:(e,t,n)=>{"use strict";var s=n(793),i=n(303);e.exports=function(e,t){return e&&!s(t)?i(e,t):t}},916:(e,t,n)=>{"use strict";var s=n(481);e.exports=function(e,t,n,i,r){var o=new Error(e);return s(o,t,n,i,r)}},572:(e,t,n)=>{"use strict";var s=n(867),i=n(527),r=n(502),o=n(655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),s.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,s,i){return e.config=t,n&&(e.code=n),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},185:(e,t,n)=>{"use strict";var s=n(867);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],r=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return s.isPlainObject(e)&&s.isPlainObject(t)?s.merge(e,t):s.isPlainObject(t)?s.merge({},t):s.isArray(t)?t.slice():t}function c(i){s.isUndefined(t[i])?s.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(e[i],t[i])}s.forEach(i,(function(e){s.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),s.forEach(r,c),s.forEach(o,(function(i){s.isUndefined(t[i])?s.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(void 0,t[i])})),s.forEach(a,(function(s){s in t?n[s]=l(e[s],t[s]):s in e&&(n[s]=l(void 0,e[s]))}));var u=i.concat(r).concat(o).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return s.forEach(d,c),n}},26:(e,t,n)=>{"use strict";var s=n(916);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(s("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},527:(e,t,n)=>{"use strict";var s=n(867);e.exports=function(e,t,n){return s.forEach(n,(function(n){e=n(e,t)})),e}},655:(e,t,n)=>{"use strict";var s=n(867),i=n(16),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=n(448)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};s.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),s.forEach(["post","put","patch"],(function(e){l.headers[e]=s.merge(r)})),e.exports=l},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return e.apply(t,n)}}},327:(e,t,n)=>{"use strict";var s=n(867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(s.isURLSearchParams(t))r=t.toString();else{var o=[];s.forEach(t,(function(e,t){null!=e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,(function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),r=o.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,n)=>{"use strict";var s=n(867);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,i,r,o){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(i)&&a.push("path="+i),s.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},985:(e,t,n)=>{"use strict";var s=n(867);e.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var s=e;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=s.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16:(e,t,n)=>{"use strict";var s=n(867);e.exports=function(e,t){s.forEach(e,(function(n,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[s])}))}},109:(e,t,n)=>{"use strict";var s=n(867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,o={};return e?(s.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=s.trim(e.substr(0,r)).toLowerCase(),n=s.trim(e.substr(r+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},867:(e,t,n)=>{"use strict";var s=n(849),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,s){l(t[s])&&l(n)?t[s]=e(t[s],n):l(n)?t[s]=e({},n):r(n)?t[s]=n.slice():t[s]=n}for(var s=0,i=arguments.length;s<i;s++)u(arguments[s],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?s(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},204:e=>{function t(e,t){if(!e)throw new Error(t||"AssertionError")}t.notEqual=function(e,n,s){t(e!=n,s)},t.notOk=function(e,n){t(!e,n)},t.equal=function(e,n,s){t(e==n,s)},t.ok=t,e.exports=t},559:(e,t,n)=>{var s=n(69),i=n(999),r=n(204);function o(e){if(!(this instanceof o))return new o(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}e.exports=o,o.prototype.emit=function(e){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],n=1,s=arguments.length;n<s;n++)t.push(arguments[n]);var o=i(this._name+"('"+e.toString()+"')"),a=this._listeners[e];return a&&a.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},o.prototype.on=o.prototype.addListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},o.prototype.prependListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},o.prototype.once=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.once: listener should be type function");var n=this;return this.on(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},o.prototype.prependOnceListener=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var n=this;return this.prependListener(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},o.prototype.removeListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(s(e,n,1),!0):void 0}}},o.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},o.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var s=t.length,i=0;i<s;i++)n.push(t[i]);return n},o.prototype._emit=function(e,t,n,s){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==s?[t].concat(n,s):[t].concat(n));for(var i=e.length,r=0;r<i;r++){var o=e[r];o.apply(o,n)}}}},61:(e,t,n)=>{var s=n(204),i="undefined"!=typeof window;function r(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}r.prototype.push=function(e){s.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},r.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},r.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},e.exports=function(){var e;return i?(window._nanoScheduler||(window._nanoScheduler=new r(!0)),e=window._nanoScheduler):e=new r,e}},999:(e,t,n)=>{var s,i=n(61)(),r=n(204);o.disabled=!0;try{s=window.performance,o.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!s.mark}catch(e){}function o(e){if(r.equal(typeof e,"string","nanotiming: name should be type string"),o.disabled)return a;var t=(1e4*s.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function l(r){var o="end-"+t+"-"+e;s.mark(o),i.push((function(){var i=null;try{var a=e+" ["+t+"]";s.measure(a,n,o),s.clearMarks(n),s.clearMarks(o)}catch(e){i=e}r&&r(i,e)}))}return s.mark(n),l.uuid=t,l}function a(e){e&&i.push((function(){e(new Error("nanotiming: performance API unavailable"))}))}e.exports=o},69:e=>{"use strict";e.exports=function(e,t,n){var s,i=e.length;if(!(t>=i||0===n)){var r=i-(n=t+n>i?i-t:n);for(s=t;s<r;++s)e[s]=e[s+n];e.length=r}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e={LOADED:"Settings.Form.Loaded",READY:"Settings.Form.Ready",SAVING:"Settings.Form.Saving",SAVED:"Settings.Form.Saved"},t={INIT:"Settings.Column.Init",SWITCH:"Settings.Column.SwitchToType",REFRESHED:"Settings.Column.Refreshed"},s=jQuery;var i=n.n(s),r=n(559),o=n.n(r);const a=n(669),l=(e,t=new FormData)=>(Object.keys(e).forEach((n=>{t.append(n,e[n])})),t);class c{constructor(e){this.element=e}static find(e){let t=document.querySelector(e);return null===t?null:new c(t)}static create(e){return new c(document.createElement(e))}getElement(){return this.element}addId(e){return this.element.id=e,this}addClass(e){return this.element.classList.add(e),this}addClasses(...e){return e.forEach((e=>this.addClass(e))),this}setAttribute(e,t){return this.element.setAttribute(e,t),this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}addHtml(e){return this.element.innerHTML=e,this}append(e){return this.element.appendChild(e),this}appendSelfTo(e){return e.append(this.element),this}css(e,t){return this.element.style[e]=t,this}insertAfter(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element.nextElementSibling)}catch(e){console.error("Not able to insert element after current node",this.element)}}insertSelfBefore(e){var t;try{null===(t=e.parentElement)||void 0===t||t.insertBefore(this.element,e)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}insertBefore(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}addEventListener(e,t){return this.element.addEventListener(e,t),this}addEventListeners(e,t){return e.forEach((e=>this.addEventListener(e,t))),this}}const u=(e,t="div")=>c.create(t).addHtml(e).getElement(),d=(e,t=100,n=null,s="block")=>{e.style.display=s,e.style.transition=`opacity ${t}ms`,e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),100),n&&e.addEventListener("transitionend",(()=>{n.call(void 0)}),{once:!0})},h=(e,t=100,n=null,s="none")=>{e.style.transition=`opacity ${t}ms`,e.style.opacity="1",setTimeout((()=>{e.style.opacity="0"}),100),e.addEventListener("transitionend",(()=>{e.style.display=s,n&&n.call(void 0)}),{once:!0})},p=(e="",t=!1)=>{let n=(Date.now()/1e3).toString(16).split(".").join("");for(;n.length<14;)n+="0";let s="";return t&&(s=".",s+=Math.round(1e8*Math.random())),e+n+s},m="closed",f="open",g="remove",v="clone";class y{constructor(e,t,n){this.events=new(o()),this.name=t,this.element=e,this.state=m,this.services=n,this.setPropertiesByElement(e),this.init()}setPropertiesByElement(e){return this.type=e.dataset.type,this.original="1"===e.dataset.original,this.disabled=e.classList.contains("disabled"),e.dataset.columnName=this.name,this}getName(){return this.name}getType(){return this.type}isOriginal(){return this.original}getElement(){return this.element}isDisabled(){return this.element.classList.contains("disabled")}disable(){return this.element.classList.add("disabled"),this}setLoading(e){return e?this.getElement().classList.add("loading"):this.getElement().classList.remove("loading"),this}enable(){return this.element.classList.remove("disabled"),this}init(){return this.services.emitEvent(t.INIT,this),this}destroy(){this.element.remove()}remove(e=350){this.events.emit(g,this),h(this.getElement(),e,(()=>{this.destroy()}))}getState(){return this.state}toggle(e=150){this.getState()===f?this.close(e):this.open(e)}close(e=0){this.getElement().classList.remove("opened"),i()(this.getElement()).find(".ac-column-body").slideUp(e),this.state=m}open(e=0){this.getElement().classList.add("opened"),i()(this.getElement()).find(".ac-column-body").slideDown(e),this.state=f}isOpen(){return this.state===f}showMessage(e){let t=this.getElement().querySelector(".ac-column-setting--type .msg");t&&(t.innerHTML=e,t.style.display="block")}getJson(){let e=new FormData(this.getElement());e.set("name",this.getName());var t={};for(var n of e.entries()){let e=n[0],s=n[1];if(this.fieldSupportsMultipleValues(e)){let n=t.hasOwnProperty(e)?t[e]:[];n.push(s),t[e]=n}else t[e]=s}return t}switchToType(e){this.setLoading(!0),((e,t=AC.list_screen)=>{var n;return a.post(ajaxurl,l({_ajax_nonce:AC._ajax_nonce,action:"ac-columns",current_original_columns:JSON.stringify(null===(n=AC_SERVICES.getService("Form"))||void 0===n?void 0:n.getOriginalColumns().map((e=>e.getName()))),id:"select",list_screen:t,type:e}))})(e).then((e=>{if(e.data.success){let t=u(e.data.data.trim()).firstChild;this.name=p(),this.reinitColumnFromElement(t).open()}else this.showMessage(e.data.data.error)})).catch((()=>{this.showMessage(AC.i18n.errors.loading_column)})).finally((()=>this.setLoading(!1)))}refresh(){this.setLoading(!0),((e,t,n=AC.list_screen)=>a.post(ajaxurl,l({_ajax_nonce:AC._ajax_nonce,action:"ac-columns",column_name:e,data:t,id:"refresh",list_screen:n})))(this.getName(),JSON.stringify(this.getJson())).then((e=>{e.data.success?(this.reinitColumnFromElement(u(e.data.data.trim()).firstChild),this.services.emitEvent(t.REFRESHED,this),this.isOpen()&&this.open()):this.showMessage(AC.i18n.errors.loading_column)})).finally((()=>this.setLoading(!1)))}fieldSupportsMultipleValues(e){let t=this.getElement().elements[e];return t&&"SELECT"===t.tagName&&t.hasAttribute("multiple")}reinitColumnFromElement(e){var t;return null===(t=this.getElement().parentNode)||void 0===t||t.replaceChild(e,this.getElement()),this.element=e,this.setPropertiesByElement(e).init(),this}}class E{constructor(t,n){this.form=t,this.services=n,this.columns=[],this.services.emitEvent(e.LOADED,this),this.init()}init(){this.initColumns(),this.isDisabled()&&(this.disableFields(),this.disableColumns()),this.services.emitEvent(e.READY,this)}getElement(){return this.form}getColumns(){return this.columns}getSortedColumns(){let e=[];return this.getElement().querySelectorAll("form.ac-column").forEach((t=>{let n=this.columns.find((e=>e.getName()===t.dataset.columnName));n&&e.push(n)})),e}placeColumn(e,t=null){var n;return t?((e,t)=>{var n;null===(n=null==t?void 0:t.parentNode)||void 0===n||n.insertBefore(e,t.nextSibling)})(e.getElement(),t):null===(n=this.getElement().querySelector(".ac-columns"))||void 0===n||n.append(e.getElement()),setTimeout((()=>{((e,t,n={})=>{var s;let i=Object.assign({},{offset:0},n);const r=e.offsetTop+(null!==(s=i.offset)&&void 0!==s?s:0),o=window.pageYOffset,a=r-o;let l;window.requestAnimationFrame((function e(n){l||(l=n);let s=n-l,i=Math.min(s/t,1);window.scrollTo(0,o+a*i),s<t&&window.requestAnimationFrame(e)}))})(e.getElement(),300,{offset:-18})}),300),this}createNewColumn(){let e=b(this.services);return this.columns.push(e),this.placeColumn(e),this.bindColumnEvents(e),e.open(300),e}isDisabled(){return this.form.classList.contains("-disabled")}getOriginalColumns(){return this.columns.filter((e=>e.isOriginal()))}disableColumns(){this.columns.forEach((e=>e.disable()))}initColumns(){this.getElement().querySelectorAll(".ac-column").forEach((e=>{var t;let n=new y(e,null!==(t=e.dataset.columnName)&&void 0!==t?t:"",this.services);this.columns.push(n),this.bindColumnEvents(n)}))}bindColumnEvents(e){e.events.addListener(g,(()=>{this.removeColumn(e.getName())})),e.events.addListener(v,(()=>{let t=new y(e.getElement().cloneNode(!0),p(),this.services);this.columns.push(t),this.placeColumn(t,e.getElement()).bindColumnEvents(t),e.isOpen()?t.open():t.close(),d(t.getElement(),300)}))}resetColumns(){this.columns.forEach((e=>{e.destroy()})),this.columns=[]}getFormData(){let e={},t=this.getElement().querySelector("input[name=title]");return this.getSortedColumns().forEach((t=>{e[t.getName()]=t.getJson()})),{title:t?t.value:"",list_screen:AC.list_screen,list_screen_id:AC.layout,columns:e,settings:this.getPreferences()}}disableFields(){this.getElement().querySelectorAll("input, select, button").forEach((e=>{e.setAttribute("readonly","readonly"),e.setAttribute("disabled","disabled")}))}submitForm(){var t;this.services.emitEvent(e.SAVING,this),(t=this.getFormData(),a.post(ajaxurl,l({action:"ac-columns",id:"save",_ajax_nonce:AC._ajax_nonce,data:JSON.stringify(t)}))).then((e=>{if(e.data.success)this.showMessage(e.data.data.message,"updated"),AC.layout=e.data.data.list_id;else if(e.data){let t=e.data;this.showMessage(t.data.message,"notice notice-warning")}})).catch((()=>{this.showMessage(AC.i18n.error.save_settings)})).finally((()=>{this.services.emitEvent(e.SAVED,this)}))}showMessage(e,t="updated"){let n=c.create("div").addClass("ac-message").addClasses(...t.split(" ")).addHtml(`<p>${e}</p>`).getElement(),s=document.querySelector(".ac-admin__main");s&&(s.querySelectorAll(".ac-message").forEach((e=>e.remove())),s.insertAdjacentElement("afterbegin",n)),d(n,600)}removeColumn(e){this.columns.forEach(((t,n)=>{e===t.getName()&&this.columns.splice(n,1)}))}getPreferences(){let e={};return document.querySelectorAll("form[data-form-part=preferences]").forEach((t=>{let n=new FormData(t);for(let s of n.entries()){let i=s[0],r=s[1],o=t.elements[i];e[i]="SELECT"===o.tagName&&o.hasAttribute("multiple")?n.getAll(i):e[i]=r}})),e}}const b=e=>{var t;let n=null===(t=document.querySelector("#add-new-column-template .ac-column"))||void 0===t?void 0:t.cloneNode(!0);const s=p();return n.querySelectorAll("label[for]").forEach((e=>{let t=e.getAttribute("for");if(t){let i=n.querySelector(`#${t}`);if(i){const n=t+s;e.setAttribute("for",n),i.id=n}}})),new y(n,s,e)};class w{constructor(){this.filters={}}addFilter(e,t,n=10){this.filters.hasOwnProperty(e)||(this.filters[e]={}),this.filters[e].hasOwnProperty(n)||(this.filters[e][n]=[]),this.filters[e][n].push(t)}applyFilters(e,t,n={}){return this.filters.hasOwnProperty(e)?(Object.keys(this.filters[e]).forEach((s=>{this.filters[e][parseInt(s)].forEach((e=>{t=e(t,n)}))})),t):t}}class S{constructor(){this.services={},this.events=new(o()),this.filters=new w,this.$=c}registerService(e,t){return this.services[e]=t,this}getService(e){return this.hasService(e)?this.services[e]:null}hasService(e){return this.services.hasOwnProperty(e)}addListener(e,t){this.events.addListener(e,t)}emitEvent(e,t){this.events.emit(e,t)}}const _=()=>(window.AC_SERVICES||(window.AC_SERVICES=new S),window.AC_SERVICES),A=(e,t)=>{let n=e?"on":"off";t.forEach((e=>{e.value===n&&(e.checked=!0,e.dispatchEvent(new Event("change")),e.dispatchEvent(new Event("click")))}))},L=(e,t)=>{var n;let s=null===(n=e.closest(".col-label"))||void 0===n?void 0:n.querySelector("div.tooltip");s&&(s.style.display=t)};class x{constructor(e){var t;this.el=e,this.dialog=null!==(t=e.querySelector(".ac-modal__dialogs"))&&void 0!==t?t:document.createElement("div"),this.initEvents()}getElement(){return this.el}initEvents(){document.addEventListener("keydown",(e=>{const t=e.key;this.isOpen()&&"Escape"===t&&this.close()}));let e=this.el.querySelectorAll('[data-dismiss="modal"], .ac-modal__dialog__close');e.length>0&&e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.close()}))})),this.el.addEventListener("click",(e=>{e.target.classList.contains("ac-modal")&&self.close()}))}isOpen(){return this.el.classList.contains("-active")}close(){this.onClose(),this.el.classList.remove("-active")}open(){setTimeout((()=>{this.onOpen(),this.el.removeAttribute("style"),this.el.classList.add("-active")}))}destroy(){this.el.remove()}onClose(){}onOpen(){}}class q{constructor(e,t){this.column=e,this.setting=t,this.column=e,this.setting=t,this.field=this.setting.querySelector(".ac-setting-input_label");let n=e.getElement().querySelector(".-iconpicker");n&&(this.modal=new C(n),this.modal.setIconSelection(this.getDashIconFromValue()),this.initEvents())}initEvents(){this.column.getElement().querySelectorAll(".ac-setting-label-icon").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.modal.open()}))})),this.modal.onSubmit((()=>{this.setLabel(this.modal.getDashIconMarkup()),this.modal.close()}))}getDashIconFromValue(){let e=document.createRange().createContextualFragment(this.getValue()).querySelector(".dashicons"),t="";return e?(e.classList.forEach((e=>{0===e.indexOf("dashicons-")&&(t=e.replace("dashicons-",""))})),t):t}getValue(){var e,t;return null!==(t=null===(e=this.field)||void 0===e?void 0:e.value)&&void 0!==t?t:""}setLabel(e){this.field&&(this.field.value=e,this.field.dispatchEvent(new Event("change")))}}class C extends x{constructor(e){super(e),this.events=new(o()),this.dashIcon="",this.search=new k(this)}initEvents(){super.initEvents(),this.getElement().querySelectorAll('[data-action="submit"]').forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.events.emit("submit")}))})),this.getElement().querySelectorAll("input[type=search]").forEach((e=>{["keyup","search"].forEach((t=>{e.addEventListener(t,(t=>{t.preventDefault(),this.search.searchFor(e.value)}))}))})),this.getIconElements().forEach((e=>{e.addEventListener("click",(t=>{var n;t.preventDefault(),this.setIconSelection(null!==(n=e.dataset.dashicon)&&void 0!==n?n:""),this.getIconElements().forEach((e=>e.classList.remove("active"))),e.classList.add("active")}))}))}getIconElements(){return this.getElement().querySelectorAll(".ac-ipicker__icon")}onSubmit(e){this.events.on("submit",e)}getDashIconMarkup(){return`<span class="dashicons dashicons-${this.dashIcon}"></span>`}setIconSelection(e){let t=this.getElement().querySelector(".ac-ipicker__selection");this.dashIcon=e,t&&(t.innerHTML=this.getDashIconMarkup(),t.style.visibility="visible")}}class k{constructor(e){this.modal=e}searchFor(e){this.modal.getElement().querySelectorAll("[data-dashicon]").forEach((t=>{var n;-1!==(null===(n=t.dataset.dashicon)||void 0===n?void 0:n.indexOf(e.toLowerCase()))?t.style.display="inline-block":t.style.display="none"})),this.determineVisibilityGroups()}determineVisibilityGroups(){this.modal.getElement().querySelectorAll(".ac-ipicker__group").forEach((e=>{let t=e.querySelectorAll("[data-dashicon]"),n=Array.from(t).filter((e=>null===e.offsetParent)),s=e.querySelector("h3");s&&(s.style.display=t.length==n.length?"none":"block")}))}}class O{constructor(e,t){this.column=e,this.setting=t,this.field=this.setting.querySelector(".ac-setting-input select"),this.initState(),this.bindEvents()}getValue(){var e;return null===(e=this.field)||void 0===e?void 0:e.value}bindEvents(){var e;null===(e=this.field)||void 0===e||e.addEventListener("change",(()=>this.initState()))}initState(){this.toggleSubSettings("cpac-custom"===this.getValue())}toggleSubSettings(e=!0){this.setting.querySelectorAll(".ac-column-setting").forEach((t=>t.style.display=e?"table":"none"))}}const $=n(669);class T{constructor(e,t){this.column=e,this.setting=t,this.bindEvents()}bindEvents(){this.refreshPreview(),this.setting.querySelectorAll("input").forEach((e=>{e.addEventListener("change",(()=>this.refreshPreview()))}))}refreshPreview(){this.getExampleRequest().then((e=>{this.setting.querySelectorAll("[data-preview]").forEach((t=>t.textContent=e.data.data))}))}getValue(){let e=this.setting.querySelector(".ac-setting-input_number_decimals"),t=this.setting.querySelector(".ac-setting-input_number_decimal_point"),n=this.setting.querySelector(".ac-setting-input_number_thousands_separator");return{decimals:e?e.value:"",decimal_point:t?t.value:"",thousands_point:n?n.value:""}}getExampleRequest(){const e=this.getValue();let t=new FormData;return t.set("action","ac_number_format"),t.set("number","7500"),t.set("decimals",e.decimals),t.set("decimal_point",e.decimal_point),t.set("thousands_sep",e.thousands_point),$.post(ajaxurl,t,{})}}function j(e,t){if(""===jQuery.trim(e.term))return t;if(void 0===t.children)return null;var n=[];if(jQuery.each(t.children,(function(t,s){s.text.toUpperCase().indexOf(e.term.toUpperCase())>-1&&n.push(s)})),n.length){var s=jQuery.extend({},t,!0);return s.children=n,s}return null}class N{constructor(e,t){this.column=e,this.setting=t,this.bindEvents()}bindEvents(){const e=this.setting.querySelector(".ac-setting-input_type"),t=this.setting,n=this.column;e&&(e.removeAttribute("data-select2-id"),this.setting.querySelectorAll(".select2").forEach((e=>{e.remove()})),i()(e).ac_select2({theme:"acs2",width:"100%",dropdownCssClass:"-type-selector",escapeMarkup:function(e){return e},templateResult:function(e){let s=e.text;return e.hasOwnProperty("id")&&e.id.includes("placeholder-")&&(s+='<span style="background-color:#FE3D6C; color:#fff; font-size: 10px; margin-top: -1px; padding: 1px 5px; border-radius: 2px; text-transform: uppercase;float: right; margin-right 10px;">PRO</span>'),_().filters.applyFilters("column_type_templates",s,{setting:t,column:n,result:e})},matcher:j}))}}class I{constructor(e,t){this.column=e,this.setting=t,this.events=new(o()),this.indicator=new D(e.getElement().querySelector(".ac-column-heading-setting--width")),this.widthInput=this.setting.querySelector("[data-width-input]"),this.unitInput=this.setting.querySelectorAll("[data-unit-input] input"),this.init()}getWidth(){var e,t;return+(null!==(t=null===(e=this.widthInput)||void 0===e?void 0:e.value)&&void 0!==t?t:0)}setWidth(e){this.widthInput&&(this.widthInput.value=e?e.toString():""),this.updateIndicator()}updateUnit(){this.setting.querySelector(".description .unit").innerHTML=this.getUnit()}getUnit(){var e,t;return null!==(t=null===(e=this.setting.querySelector("[data-unit-input] input:checked"))||void 0===e?void 0:e.value)&&void 0!==t?t:"0"}getValue(){return{width:this.getWidth(),unit:this.getUnit()}}validate(){let e=this.getWidth();(0===e||e<0)&&this.setWidth(""),"%"===this.getUnit()&&e>100&&this.setWidth(100)}init(){var e;null===(e=this.widthInput)||void 0===e||e.addEventListener("keyup",(()=>{this.updateIndicator(),this.initSlider(),this.validate()})),this.unitInput.forEach((e=>{e.addEventListener("change",(()=>{this.initSlider(),this.updateIndicator(),this.updateUnit(),this.validate()}))})),this.initSlider()}updateIndicator(){this.indicator.setValue(this.getWidth(),this.getUnit())}initSlider(){this.column.getElement().querySelectorAll(".width-slider").forEach((e=>{i()(e).slider({range:"min",min:0,max:"%"===this.getUnit()?100:500,value:this.getWidth(),slide:(e,t)=>{this.setWidth(t.value)}})}))}}class D{constructor(e){this.element=e,this.events=new(o())}setValue(e,t){if(null===e)return this.element.innerText="";this.element.innerText=`${e.toString()}${t}`}}const R=n(669);class F{constructor(e,t){this.column=e,this.setting=t,this.options=this.setting.querySelectorAll(".radio-labels input[type=radio]"),this.valueInput=this.setting.querySelector("[data-value-input]");let n=this.setting.querySelector(".radio-labels code");this.defaultFormat=n?n.textContent:"Y-m-d";let s=[...this.options].filter((e=>void 0!==e.dataset.custom));this.customOption=new M(s[0],this.setting.querySelector("[data-custom-date]"),this.setting.querySelector(".ac-setting-input-date__example"),this.valueInput),this.initEvents()}getOptionsAsArray(){return Array.from(this.options)}getSelectionOption(){let e=this.getOptionsAsArray().filter((e=>e.checked));return e?e[0]:null}initEvents(){this.options.forEach((e=>{e.addEventListener("change",(()=>this.handleUpdate(e)))})),this.setSelected(),this.customOption.updateExample()}setSelected(){let e=this.getOptionsAsArray().find((e=>e.value===this.getCurrentValue()));e&&(e.checked=!0,e.dispatchEvent(new Event("change")))}handleUpdate(e){var t,n,s;this.valueInput.value=e.value,this.customOption.toggle(void 0!==e.dataset.custom);let i=null!==(s=null===(n=null===(t=e.closest("label"))||void 0===t?void 0:t.querySelector("[data-help]"))||void 0===n?void 0:n.innerHTML)&&void 0!==s?s:"";if(this.setHelpText(i),void 0===e.dataset.custom){switch(this.valueInput.value){case"custom":break;case"wp_default":case"diff":this.customOption.setExample("");break;default:this.customOption.setExample(this.valueInput.value)}this.customOption.updateExample()}}getCurrentValue(){return this.valueInput.value}setHelpText(e){let t=this.setting.querySelector(".help-msg");t&&(t.innerHTML=e,t.style.display="block")}}class M{constructor(e,t,n,s){this.radio=e,this.input=t,this.example=n,this.valueElement=s,this.timeout=null,this.input.addEventListener("change",(()=>{this.updateExample(),e.checked&&(this.valueElement.value=this.input.value)})),this.input.addEventListener("keyup",(()=>{e.checked&&(this.valueElement.value=this.input.value),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.updateExample()),500)}))}setExample(e){this.input.value=e}updateExample(){this.getExample().then((e=>{this.example.innerHTML=e.data}))}toggle(e=!0){e?this.input.removeAttribute("disabled"):this.input.setAttribute("disabled","disabled")}getExample(){let e=new FormData;return e.set("action","date_format"),e.set("date",this.input.value),R.post(ajaxurl,e,{})}}const P=n(669);class H{constructor(e,t){this.column=e,this.setting=t,this.select=t.querySelector(".custom_field"),this.bindEvents()}bindEvents(){var e,t;const n=U(null!==(e=this.select.dataset.type)&&void 0!==e?e:"",null!==(t=this.select.dataset.post_type)&&void 0!==t?t:""),s=this.column.getElement().querySelectorAll('[data-setting="edit"][data-indicator-toggle]').length>0;this.select.querySelectorAll("optgroup").forEach((e=>{e.remove()})),this.select.removeAttribute("data-select2-id"),this.setting.querySelectorAll(".select2").forEach((e=>{e.remove()})),n.getOptions().then((e=>{i()(this.select).ac_select2({theme:"acs2",width:"100%",tags:s,dropdownCssClass:"-customfields",data:e})}))}}class B{constructor(e,t){this.metaType=e,this.postType=t,this.loading=!1,this.data=null,this.events=new(o())}retrieveOptions(){this.loading=!0;let e=new FormData;return e.set("action","ac_custom_field_options"),e.set("post_type",this.postType),e.set("meta_type",this.metaType),e.set("_ajax_nonce",AC._ajax_nonce),P.post(ajaxurl,e)}getOptions(){return new Promise(((e,t)=>{this.data?e(this.data):this.loading?this.events.on("loaded",(()=>{e(this.data)})):this.retrieveOptions().then((n=>{n.data.success||t(),this.data=n.data.data.results,this.events.emit("loaded"),e(this.data)}))}))}}const U=(e,t)=>{const n=`custom_field_${e}_${t}`;return void 0===window.AC_Requests&&(window.AC_Requests={}),window.AC_Requests.hasOwnProperty(n)||(window.AC_Requests[n]=new B(e,t)),window.AC_Requests[n]};class V{constructor(e){var t;this.element=e,this.input=e.querySelector('.ac-setting-input input[type="checkbox"]'),this.subFields=e.querySelectorAll(".ac-column-setting"),this.initState(),null===(t=this.input)||void 0===t||t.addEventListener("input",(()=>this.initState()))}initState(){this.isOptionEnabled()?this.subFields.forEach((e=>e.style.display="table")):this.subFields.forEach((e=>e.style.display="none"))}isOptionEnabled(){var e,t;return null!==(t=null===(e=this.input)||void 0===e?void 0:e.checked)&&void 0!==t&&t}}class W{constructor(e,t){this.column=e,this.select=t,this.bindEvents()}bindEvents(){var e;this.select.removeAttribute("data-select2-id"),null===(e=this.select.parentElement)||void 0===e||e.querySelectorAll(".select2").forEach((e=>{e.remove()})),i()(this.select).ac_select2({theme:"acs2",width:"100%",escapeMarkup:function(e){return e}})}}var z=n(669),G=n.n(z);const J=(e,t,n="")=>{if(!t||"object"!=typeof t||t instanceof Date||t instanceof File){const s=null==t?"":t;e.append(n,s)}else Object.keys(t).forEach((s=>{J(e,t[s],n?`${n}[${s}]`:s)}))};class X{constructor(e,t,n,s){this.name=e,this.input=t,this.toggleClass=n,this.container=s,this.initEvents()}initEvents(){this.input.addEventListener("change",(()=>{this.input.checked?this.container.classList.add(this.toggleClass):this.container.classList.remove(this.toggleClass),this.persist()}))}persist(){G().post(ajaxurl,((e,t=null)=>{let n=null!=t?t:new FormData;return Object.keys(e).forEach((t=>{J(n,e[t],t)})),n})({action:"ac_admin_screen_options",_ajax_nonce:AC._ajax_nonce,option_name:this.name,option_value:this.input.checked?1:0}))}}const Y=()=>{document.querySelectorAll(".ac-tooltip").forEach((e=>e.remove())),document.querySelectorAll("[data-ac-tip]").forEach((e=>{new Q(e)}))};class Q{constructor(e,t=""){this.element=e,this.content=t||e.dataset.acTip,this.tip=K(this.content),this.initEvents()}initEvents(){"1"!==this.element.dataset.acTooltipInit&&(this.element.dataset.acTooltipInit="1",this.element.addEventListener("mouseenter",(()=>{const e=document.body.getBoundingClientRect(),t=this.element.getBoundingClientRect();document.body.appendChild(this.tip),this.tip.style.left=t.left-e.left+this.element.offsetWidth/2+"px",this.tip.style.top=t.top-e.top+this.element.offsetHeight+"px",this.tip.classList.add("hover")})),this.element.addEventListener("mouseleave",(()=>{this.tip.classList.remove("hover"),document.body.contains(this.tip)&&document.body.removeChild(this.tip)})))}}const K=e=>{let t=document.createElement("div");return t.classList.add("ac-tooltip"),t.innerHTML=e,t};function Z(){}function ee(e){return e()}function te(){return Object.create(null)}function ne(e){e.forEach(ee)}function se(e){return"function"==typeof e}function ie(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function re(e){return 0===Object.keys(e).length}new Set;let oe,ae=!1;function le(e,t){e.appendChild(t)}function ce(e){e.parentNode.removeChild(e)}function ue(e){return document.createElement(e)}function de(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function he(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pe(e){oe=e}new Set;const me=[],fe=[],ge=[],ve=[],ye=Promise.resolve();let Ee=!1;function be(e){ge.push(e)}let we=!1;const Se=new Set;function _e(){if(!we){we=!0;do{for(let e=0;e<me.length;e+=1){const t=me[e];pe(t),Ae(t.$$)}for(pe(null),me.length=0;fe.length;)fe.pop()();for(let e=0;e<ge.length;e+=1){const t=ge[e];Se.has(t)||(Se.add(t),t())}ge.length=0}while(me.length);for(;ve.length;)ve.pop()();Ee=!1,we=!1,Se.clear()}}function Ae(e){if(null!==e.fragment){e.update(),ne(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(be)}}const Le=new Set;let xe;function qe(e,t){const n=e.$$;null!==n.fragment&&(ne(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t,n,s,i,r,o,a=[-1]){const l=oe;pe(e);const c=e.$$={fragment:null,ctx:null,props:r,update:Z,not_equal:i,bound:te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:te(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),u&&function(e,t){-1===e.$$.dirty[0]&&(me.push(e),Ee||(Ee=!0,ye.then(_e)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),u=!0,ne(c.before_update),c.fragment=!!s&&s(c.ctx),t.target){if(t.hydrate){ae=!0;const e=(p=t.target,Array.from(p.childNodes));c.fragment&&c.fragment.l(e),e.forEach(ce)}else c.fragment&&c.fragment.c();t.intro&&((d=e.$$.fragment)&&d.i&&(Le.delete(d),d.i(h))),function(e,t,n,s){const{fragment:i,on_mount:r,on_destroy:o,after_update:a}=e.$$;i&&i.m(t,n),s||be((()=>{const t=r.map(ee).filter(se);o?o.push(...t):ne(t),e.$$.on_mount=[]})),a.forEach(be)}(e,t.target,t.anchor,t.customElement),ae=!1,_e()}var d,h,p;pe(l)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(xe=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(ee).filter(se);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){ne(this.$$.on_disconnect)}$destroy(){qe(this,1),this.$destroy=Z}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!re(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});function ke(e){let t,n,s,i,r,o,a;return{c(){var o;t=ue("div"),n=ue("div"),o=" ",s=document.createTextNode(o),i=ue("div"),he(n,"class","ac-pointer-modal__arrow"),he(n,"data-pos",e[1]),he(i,"class","ac-pointer-modal__content"),he(t,"class",r="ac-pointer-modal -"+e[1])},m(r,l){(function(e,t,n){e.insertBefore(t,n||null)})(r,t,l),le(t,n),le(t,s),le(t,i),i.innerHTML=e[0],o||(a=[de(t,"mouseenter",e[6]),de(t,"mouseleave",e[7])],o=!0)},p(e,[s]){2&s&&he(n,"data-pos",e[1]),1&s&&(i.innerHTML=e[0]),2&s&&r!==(r="ac-pointer-modal -"+e[1])&&he(t,"class",r)},i:Z,o:Z,d(e){e&&ce(t),o=!1,ne(a)}}}function Oe(e,t,n){let{content:s=""}=t,{position:i=""}=t,r=!1,{closeHandler:o}=t;const a=()=>{n(2,r=!1),o()};return e.$$set=e=>{"content"in e&&n(0,s=e.content),"position"in e&&n(1,i=e.position),"closeHandler"in e&&n(4,o=e.closeHandler)},[s,i,r,a,o,()=>r,()=>n(2,r=!0),()=>a()]}class $e{constructor(e,t){var n,s;this.element=e,this.target=t,this.width=null!==(n=e.dataset.width)&&void 0!==n?n:null,this.position=null!==(s=e.dataset.pos)&&void 0!==s?s:"right",this.noClick=void 0!==e.dataset.noclick,this.waitingForClose=!1,this.initEvents()}initEvents(){"1"!==this.element.dataset.acTooltipInit&&(this.container=Te(),this.width&&(this.container.style.width=`${this.width}px`),this.attachModel(),this.element.dataset.acTooltipInit="1",this.element.addEventListener("mouseenter",(()=>{this.onScreen||(this.onScreen=!0,document.body.appendChild(this.container),this.container.style.width=`${this.width}px`,this.setPosition(),setTimeout((()=>{this.setPosition()}),100))})),this.element.addEventListener("mouseleave",(()=>{console.log("leave",this.noClick),this.checkClose()})),this.element.addEventListener("click",(()=>{this.noClick||(this.waitingForClose=!0)})))}setPosition(){const e=document.body.getBoundingClientRect(),t=this.element.getBoundingClientRect();switch(this.container.style.top=t.top-e.top+this.element.offsetHeight-this.container.offsetHeight/2+20+"px",this.position){case"right_bottom":this.container.style.top=t.top-e.top-this.container.offsetHeight+100+"px",this.container.style.left=t.left-e.left+this.element.offsetWidth+14+"px";break;case"left":this.container.style.left=t.left-e.left-this.container.offsetWidth-12+"px";break;default:this.container.style.left=t.left-e.left+this.element.offsetWidth+10+"px"}}checkClose(){setTimeout((()=>{this.waitingForClose||this.closeHandler()}),50)}closeHandler(){this.onScreen&&(document.body.removeChild(this.container),this.onScreen=!1,this.waitingForClose=!1)}destroyComponent(){null!==this.component&&this.component.$destroy()}attachModel(){this.component=new class extends class{$destroy(){qe(this,1),this.$destroy=Z}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!re(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),Ce(this,e,Oe,ke,ie,{content:0,position:1,closeHandler:4,isOnElement:5})}get isOnElement(){return this.$$.ctx[5]}}({target:this.container,props:{content:this.target.innerHTML,position:this.position,closeHandler:()=>this.closeHandler(),destroyHandler:()=>this.destroyComponent()}})}}const Te=()=>{const e=document.createElement("div");return e.classList.add("ac-pointer-modal-container"),e.style.position="absolute",e},je=n(669);class Ne{constructor(e){this.listScreens=e,this.processed=[],this.errors=[],this.success=[],this.events=new(o()),this.run()}doAjaxCall(e){return je.get(e.screen_link)}run(){Object.values(this.listScreens).forEach((e=>this.processListScreen(e)))}onFinish(){this.success.length===Object.keys(this.listScreens).length&&this.events.emit("success"),this.errors.length>0&&this.events.emit("error")}checkFinish(){this.processed.length===Object.keys(this.listScreens).length&&this.onFinish()}processListScreen(e){this.doAjaxCall(e).then((t=>{"ac_success"===t.data?this.success.push(e):this.errors.push(e)})).catch((()=>{this.errors.push(e)})).finally((()=>{this.processed.push(e),this.checkFinish()}))}}let Ie=_();Ie.registerService("Modals",new class{constructor(){this.modals={},this.number=0,this.defaults={modal:x},this.initGlobalEvents()}register(e,t=""){return t||(t="m"+this.number),this.modals[t]=e,this.number++,e}get(e){return this.modals.hasOwnProperty(e)?this.modals[e]:null}open(e){var t;null===(t=this.get(e))||void 0===t||t.open()}close(e){var t;null===(t=this.get(e))||void 0===t||t.close()}closeAll(){for(let e in this.modals)this.close(e)}initGlobalEvents(){document.addEventListener("click",(e=>{let t=e.target;t.dataset.acModal&&(e.preventDefault(),this.open(t.dataset.acModal))}))}}),new class{constructor(e){e.addListener(t.INIT,(e=>{(e=>{e.getElement().querySelectorAll('[data-toggle="column"]').forEach((t=>{t.addEventListener("click",(t=>e.toggle())),t.style.cursor="pointer"}))})(e),(e=>{e.isDisabled()||e.getElement().querySelectorAll("[data-indicator-toggle]").forEach((t=>{var n;let s=null!==(n=t.dataset.setting)&&void 0!==n?n:"";e.getElement().querySelectorAll(`.ac-column-setting[data-setting='${t.dataset.setting}'] .col-input .ac-setting-input:first-child input[type=radio]`).length&&((e,t,n)=>{let s=e.getElement().querySelectorAll(`.ac-column-setting[data-setting='${n}'] .col-input .ac-setting-input:first-child input[type=radio]`);t.addEventListener("click",(()=>{A(!t.classList.contains("on"),s)})),s.forEach((e=>{e.addEventListener("change",(()=>{"off"===e.value?t.classList.remove("on"):t.classList.add("on")}))}))})(e,t,s);let i=e.getElement().querySelector(`.ac-column-setting[data-setting='${t.dataset.setting}'] .col-input .ac-setting-input:first-child .ac-toggle-v2`);i&&((e,t,n,s)=>{var i;let r=null!==(i=s.querySelector("input[type=checkbox]"))&&void 0!==i?i:document.createElement("input");t.addEventListener("click",(()=>{r.checked=!r.checked,r.dispatchEvent(new Event("input"))})),r.addEventListener("input",(()=>r.checked?t.classList.add("on"):t.classList.remove("on")))})(0,t,0,i)}))})(e),(e=>{e.getElement().querySelectorAll("select.ac-setting-input_type").forEach((t=>{i()(t).on("change",(()=>e.switchToType(t.value)))}))})(e),(e=>{e.getElement().querySelectorAll("[data-remove-column]").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e.remove()}))}))})(e),(e=>{e.getElement().querySelectorAll(".clone-button").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e.isOriginal()||e.events.emit(v)}))}))})(e),(e=>{let t=e.getElement().querySelector(".ac-column-setting--label input[type=text]");var n,s;t&&(n=t,s=()=>((e,t)=>{t.getElement().querySelectorAll("[data-column-label]").forEach((t=>t.innerHTML=e.value))})(t,e),["change","keyup"].forEach((e=>n.addEventListener(e,s))))})(e),(e=>{e.getElement().querySelectorAll(".col-label .label").forEach((e=>{var t,n,s;n=()=>L(e,"block"),s=()=>L(e,"none"),(t=e).addEventListener("mouseenter",n),t.addEventListener("mouseleave",s)}))})(e),(e=>{e.getElement().querySelectorAll('select[data-label="update"]').forEach((t=>{t.addEventListener("change",(()=>{let n=e.getElement().querySelector("input.ac-setting-input_label"),s=t.selectedOptions.length>0?t.selectedOptions[0]:null;n&&s&&(n.value=s.innerHTML,n.dispatchEvent(new Event("change")))}))})),setTimeout((()=>{e.getElement().querySelectorAll("[data-column-label]").forEach((t=>{t.offsetWidth<10&&(t.innerText=e.getType())}))}),50)})(e),(e=>{e.getElement().querySelectorAll('[data-refresh="column"], [data-refresh="column"] input').forEach((t=>{t.addEventListener("change",(()=>{setTimeout((()=>e.refresh()),50)}))}))})(e),(e=>{e.getElement().querySelectorAll("select[multiple]").forEach((t=>{new W(e,t)}))})(e),(e=>{let t=e.getElement().querySelector(".ac-column-setting--label");t&&new q(e,t)})(e),(e=>{let t=e.getElement().querySelector(".ac-column-setting--image");t&&new O(e,t)})(e),(e=>{e.getElement().querySelectorAll(".ac-column-setting--number_format").forEach((t=>{new T(e,t)}))})(e),(e=>{e.getElement().querySelectorAll('[data-setting="type"]').forEach((t=>{new N(e,t)}))})(e),(e=>{e.getElement().querySelectorAll('table[data-setting="width"]').forEach((t=>new I(e,t)))})(e),(e=>{e.getElement().querySelectorAll("[data-setting=date]").forEach((t=>new F(e,t)))})(e),(e=>{e.getElement().querySelectorAll(".ac-column-setting--pro").forEach((e=>{e.querySelectorAll("input").forEach((t=>{t.addEventListener("click",(()=>i()(e).find("[data-ac-modal]").trigger("click")))}))}))})(e),(e=>{e.getElement().querySelectorAll("[data-setting=custom_field]").forEach((t=>new H(e,t)))})(e),(e=>{e.getElement().querySelectorAll(".ac-column-setting--filter,.ac-column-setting--sort,.ac-column-setting--edit").forEach((e=>{new V(e)}))})(e)}))}}(Ie),document.addEventListener("DOMContentLoaded",(()=>{De(),document.querySelectorAll("#listscreen_settings").forEach((e=>{Ie.registerService("Form",new E(e,Ie))})),Ie.hasService("Modals")&&document.querySelectorAll("#ac-modal-pro").forEach((e=>{var t;null===(t=Ie.getService("Modals"))||void 0===t||t.register(new x(e),"pro")})),document.querySelectorAll("#ac_list_screen").forEach((e=>{e.addEventListener("change",(()=>{var t;document.querySelectorAll(".view-link").forEach((e=>e.style.display="none")),null===(t=e.closest("form"))||void 0===t||t.submit(),e.disabled=!0,e.nextElementSibling.style.display="inline-block"}))})),document.querySelectorAll("#direct-feedback").forEach((e=>new class{constructor(e){this.element=e,this.init()}init(){var e,t;null===(e=this.element.querySelector("a.no"))||void 0===e||e.addEventListener("click",(e=>{e.preventDefault(),h(this.element.querySelector("#feedback-choice"),300,(()=>{d(this.element.querySelector("#feedback-support"),300)}))})),null===(t=this.element.querySelector("a.yes"))||void 0===t||t.addEventListener("click",(e=>{e.preventDefault(),h(this.element.querySelector("#feedback-choice"),300,(()=>{d(this.element.querySelector("#feedback-rate"),300)}))}))}}(e))),AC.hasOwnProperty("uninitialized_list_screens")&&(e=>{if(Object.keys(e).length>0)if(e.hasOwnProperty(AC.list_screen)){const t=new Ne({[AC.list_screen]:e[AC.list_screen]});t.events.on("error",(()=>{document.querySelectorAll(".ac-loading-msg-wrapper").forEach((e=>e.remove())),document.querySelectorAll(".menu").forEach((e=>e.classList.remove("hidden")))})),t.events.on("success",(()=>{window.location.href=`${location.href}&t=${Date.now()}`}))}else new Ne(e)})(AC.uninitialized_list_screens),document.querySelectorAll('[data-ac-screen-option="show_column_id"] input').forEach((e=>new X("show_column_id",e,"show-column-id",document.querySelector(".ac-boxes")))),document.querySelectorAll('[data-ac-screen-option="show_column_type"] input').forEach((e=>new X("show_column_type",e,"show-column-type",document.querySelector(".ac-boxes")))),document.querySelectorAll('[data-ac-screen-option="show_list_screen_id"] input').forEach((e=>new X("show_list_screen_id",e,"show-list-screen-id",document.querySelector(".ac-admin")))),document.querySelectorAll('[data-ac-screen-option="show_list_screen_type"] input').forEach((e=>new X("show_list_screen_type",e,"show-list-screen-type",document.querySelector(".ac-admin"))))})),Ie.addListener(e.LOADED,(e=>{document.querySelectorAll(".add_column").forEach((t=>t.addEventListener("click",(()=>e.createNewColumn())))),document.querySelectorAll("a[data-clear-columns]").forEach((t=>t.addEventListener("click",(()=>e.resetColumns()))));let t=i()(e.getElement());t.hasClass("ui-sortable")?t.sortable("refresh"):t.sortable({items:".ac-column",handle:"[data-sort-handle]"})})),Ie.addListener(e.SAVING,(()=>{var e;null===(e=document.querySelector("#cpac .ac-admin"))||void 0===e||e.classList.add("saving")})),Ie.addListener(e.SAVED,(()=>{var e,t;null===(e=document.querySelector("#cpac .ac-admin"))||void 0===e||e.classList.remove("saving"),null===(t=document.querySelector("#cpac .ac-admin"))||void 0===t||t.classList.add("stored")})),Ie.addListener(t.INIT,(e=>{Y(),((e=null)=>{e||(e=document.querySelectorAll(".ac-pointer")),e.forEach((e=>{var t;let n=document.querySelector(null!==(t=`#${e.getAttribute("rel")}`)&&void 0!==t?t:"#n");n&&new $e(e,n)})),new class{constructor(){this.init()}init(){Y()}}})(e.getElement().querySelectorAll(".ac-pointer"))}));const De=()=>{const t=document.querySelectorAll(".sidebox a.submit, .column-footer a.submit");Ie.addListener(e.READY,(e=>{t.forEach((n=>{n.addEventListener("click",(n=>{n.preventDefault(),t.forEach((e=>e.setAttribute("disabled","disabled"))),e.submitForm()}))}))})),Ie.addListener(e.SAVED,(()=>t.forEach((e=>e.removeAttribute("disabled")))))}})()})();