(()=>{var e={669:(e,t,s)=>{e.exports=s(609)},448:(e,t,s)=>{"use strict";var n=s(867),i=s(26),r=s(372),o=s(327),a=s(97),l=s(109),c=s(985),u=s(916);e.exports=function(e){return new Promise((function(t,s){var h=e.data,d=e.headers;n.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+f)}var g=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,s,r),p=null}},p.onabort=function(){p&&(s(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){s(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(u(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&n.forEach(d,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),s(e),p=null)})),h||(h=null),p.send(h)}))}},609:(e,t,s)=>{"use strict";var n=s(867),i=s(849),r=s(321),o=s(185);function a(e){var t=new r(e),s=i(r.prototype.request,t);return n.extend(s,r.prototype,t),n.extend(s,t),s}var l=a(s(655));l.Axios=r,l.create=function(e){return a(o(l.defaults,e))},l.Cancel=s(263),l.CancelToken=s(972),l.isCancel=s(502),l.all=function(e){return Promise.all(e)},l.spread=s(713),l.isAxiosError=s(268),e.exports=l,e.exports.default=l},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,s)=>{"use strict";var n=s(263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var s=this;e((function(e){s.reason||(s.reason=new n(e),t(s.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,s)=>{"use strict";var n=s(867),i=s(327),r=s(782),o=s(572),a=s(185);function l(e){this.defaults=e,this.interceptors={request:new r,response:new r}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],s=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)s=s.then(t.shift(),t.shift());return s},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,s){return this.request(a(s||{},{method:e,url:t,data:(s||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,s,n){return this.request(a(n||{},{method:e,url:t,data:s}))}})),e.exports=l},782:(e,t,s)=>{"use strict";var n=s(867);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},97:(e,t,s)=>{"use strict";var n=s(793),i=s(303);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},916:(e,t,s)=>{"use strict";var n=s(481);e.exports=function(e,t,s,i,r){var o=new Error(e);return n(o,t,s,i,r)}},572:(e,t,s)=>{"use strict";var n=s(867),i=s(527),r=s(502),o=s(655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,s,n,i){return e.config=t,s&&(e.code=s),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},185:(e,t,s)=>{"use strict";var n=s(867);e.exports=function(e,t){t=t||{};var s={},i=["url","method","data"],r=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(s[i]=l(void 0,e[i])):s[i]=l(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(s[e]=l(void 0,t[e]))})),n.forEach(r,c),n.forEach(o,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(s[i]=l(void 0,e[i])):s[i]=l(void 0,t[i])})),n.forEach(a,(function(n){n in t?s[n]=l(e[n],t[n]):n in e&&(s[n]=l(void 0,e[n]))}));var u=i.concat(r).concat(o).concat(a),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return n.forEach(h,c),s}},26:(e,t,s)=>{"use strict";var n=s(916);e.exports=function(e,t,s){var i=s.config.validateStatus;s.status&&i&&!i(s.status)?t(n("Request failed with status code "+s.status,s.config,null,s.request,s)):e(s)}},527:(e,t,s)=>{"use strict";var n=s(867);e.exports=function(e,t,s){return n.forEach(s,(function(s){e=s(e,t)})),e}},655:(e,t,s)=>{"use strict";var n=s(867),i=s(16),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=s(448)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(r)})),e.exports=l},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];return e.apply(t,s)}}},327:(e,t,s)=>{"use strict";var n=s(867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,s){if(!t)return e;var r;if(s)r=s(t);else if(n.isURLSearchParams(t))r=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),r=o.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,s)=>{"use strict";var n=s(867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,s,i,r,o){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},985:(e,t,s)=>{"use strict";var n=s(867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function i(e){var n=e;return t&&(s.setAttribute("href",n),n=s.href),s.setAttribute("href",n),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return e=i(window.location.href),function(t){var s=n.isString(t)?i(t):t;return s.protocol===e.protocol&&s.host===e.host}}():function(){return!0}},16:(e,t,s)=>{"use strict";var n=s(867);e.exports=function(e,t){n.forEach(e,(function(s,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[n])}))}},109:(e,t,s)=>{"use strict";var n=s(867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,s,r,o={};return e?(n.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=n.trim(e.substr(0,r)).toLowerCase(),s=n.trim(e.substr(r+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([s]):o[t]?o[t]+", "+s:s}})),o):o}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},867:(e,t,s)=>{"use strict";var n=s(849),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function s(s,n){l(t[n])&&l(s)?t[n]=e(t[n],s):l(s)?t[n]=e({},s):r(s)?t[n]=s.slice():t[n]=s}for(var n=0,i=arguments.length;n<i;n++)u(arguments[n],s);return t},extend:function(e,t,s){return u(t,(function(t,i){e[i]=s&&"function"==typeof t?n(t,s):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},204:e=>{function t(e,t){if(!e)throw new Error(t||"AssertionError")}t.notEqual=function(e,s,n){t(e!=s,n)},t.notOk=function(e,s){t(!e,s)},t.equal=function(e,s,n){t(e==s,n)},t.ok=t,e.exports=t},559:(e,t,s)=>{var n=s(69),i=s(999),r=s(204);function o(e){if(!(this instanceof o))return new o(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}e.exports=o,o.prototype.emit=function(e){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],s=1,n=arguments.length;s<n;s++)t.push(arguments[s]);var o=i(this._name+"('"+e.toString()+"')"),a=this._listeners[e];return a&&a.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},o.prototype.on=o.prototype.addListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},o.prototype.prependListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},o.prototype.once=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.once: listener should be type function");var s=this;return this.on(e,(function n(){t.apply(s,arguments),s.removeListener(e,n)})),this},o.prototype.prependOnceListener=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var s=this;return this.prependListener(e,(function n(){t.apply(s,arguments),s.removeListener(e,n)})),this},o.prototype.removeListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),s(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),s(this._listeners[e],t));function s(e,t){if(e){var s=e.indexOf(t);return-1!==s?(n(e,s,1),!0):void 0}}},o.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},o.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,s=[];if(t)for(var n=t.length,i=0;i<n;i++)s.push(t[i]);return s},o.prototype._emit=function(e,t,s,n){if(void 0!==e&&0!==e.length){void 0===s&&(s=t,t=null),t&&(s=void 0!==n?[t].concat(s,n):[t].concat(s));for(var i=e.length,r=0;r<i;r++){var o=e[r];o.apply(o,s)}}}},61:(e,t,s)=>{var n=s(204),i="undefined"!=typeof window;function r(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}r.prototype.push=function(e){n.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},r.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},r.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},e.exports=function(){var e;return i?(window._nanoScheduler||(window._nanoScheduler=new r(!0)),e=window._nanoScheduler):e=new r,e}},999:(e,t,s)=>{var n,i=s(61)(),r=s(204);o.disabled=!0;try{n=window.performance,o.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!n.mark}catch(e){}function o(e){if(r.equal(typeof e,"string","nanotiming: name should be type string"),o.disabled)return a;var t=(1e4*n.now()).toFixed()%Number.MAX_SAFE_INTEGER,s="start-"+t+"-"+e;function l(r){var o="end-"+t+"-"+e;n.mark(o),i.push((function(){var i=null;try{var a=e+" ["+t+"]";n.measure(a,s,o),n.clearMarks(s),n.clearMarks(o)}catch(e){i=e}r&&r(i,e)}))}return n.mark(s),l.uuid=t,l}function a(e){e&&i.push((function(){e(new Error("nanotiming: performance API unavailable"))}))}e.exports=o},69:e=>{"use strict";e.exports=function(e,t,s){var n,i=e.length;if(!(t>=i||0===s)){var r=i-(s=t+s>i?i-t:s);for(n=t;n<r;++n)e[n]=e[n+s];e.length=r}}},311:e=>{"use strict";e.exports=jQuery}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e={LOADED:"Settings.Form.Loaded",READY:"Settings.Form.Ready",SAVING:"Settings.Form.Saving",SAVED:"Settings.Form.Saved"},t={INIT:"Settings.Column.Init",SWITCH:"Settings.Column.SwitchToType",REFRESHED:"Settings.Column.Refreshed"};var n=s(311),i=s.n(n),r=s(559),o=s.n(r);const a=s(669),l=(e,t=new FormData)=>(Object.keys(e).forEach((s=>{t.append(s,e[s])})),t);class c{constructor(e){this.element=e}static find(e){let t=document.querySelector(e);return null===t?null:new c(t)}static create(e){return new c(document.createElement(e))}getElement(){return this.element}addId(e){return this.element.id=e,this}addClass(e){return this.element.classList.add(e),this}addClasses(...e){return e.forEach((e=>this.addClass(e))),this}setAttribute(e,t){return this.element.setAttribute(e,t),this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}addHtml(e){return this.element.innerHTML=e,this}append(e){return this.element.appendChild(e),this}appendSelfTo(e){return e.append(this.element),this}css(e,t){return this.element.style[e]=t,this}insertAfter(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element.nextElementSibling)}catch(e){console.error("Not able to insert element after current node",this.element)}}insertSelfBefore(e){var t;try{null===(t=e.parentElement)||void 0===t||t.insertBefore(this.element,e)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}insertBefore(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}addEventListener(e,t){return this.element.addEventListener(e,t),this}addEventListeners(e,t){return e.forEach((e=>this.addEventListener(e,t))),this}}const u=(e,t="div")=>c.create(t).addHtml(e).getElement(),h=(e,t=100,s=null,n="block")=>{e.style.display=n,e.style.transition=`opacity ${t}ms`,e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),100),s&&e.addEventListener("transitionend",(()=>{s.call(void 0)}),{once:!0})},d=(e,t=100,s=null,n="none")=>{e.style.transition=`opacity ${t}ms`,e.style.opacity="1",setTimeout((()=>{e.style.opacity="0"}),100),e.addEventListener("transitionend",(()=>{e.style.display=n,s&&s.call(void 0)}),{once:!0})},p=(e="",t=!1)=>{let s=(Date.now()/1e3).toString(16).split(".").join("");for(;s.length<14;)s+="0";let n="";return t&&(n=".",n+=Math.round(1e8*Math.random())),e+s+n},m="closed",f="open",g="remove",v="clone";class y{constructor(e,t,s){this.events=new(o()),this.name=t,this.element=e,this.state=m,this.services=s,this.setPropertiesByElement(e),this.init()}setPropertiesByElement(e){return this.type=e.dataset.type,this.original="1"===e.dataset.original,this.disabled=e.classList.contains("disabled"),e.dataset.columnName=this.name,this}getName(){return this.name}getType(){return this.type}isOriginal(){return this.original}getElement(){return this.element}isDisabled(){return this.element.classList.contains("disabled")}disable(){return this.element.classList.add("disabled"),this}setLoading(e){return e?this.getElement().classList.add("loading"):this.getElement().classList.remove("loading"),this}enable(){return this.element.classList.remove("disabled"),this}init(){return this.services.emitEvent(t.INIT,this),this}destroy(){this.element.remove()}remove(e=350){this.events.emit(g,this),d(this.getElement(),e,(()=>{this.destroy()}))}getState(){return this.state}toggle(e=150){this.getState()===f?this.close(e):this.open(e)}close(e=0){this.getElement().classList.remove("opened"),i()(this.getElement()).find(".ac-column-body").slideUp(e),this.state=m}open(e=0){this.getElement().classList.add("opened"),i()(this.getElement()).find(".ac-column-body").slideDown(e),this.state=f}isOpen(){return this.state===f}showMessage(e){let t=this.getElement().querySelector(".ac-column-setting--type .msg");t&&(t.innerHTML=e,t.style.display="block")}getJson(){let e=new FormData(this.getElement());e.set("name",this.getName());var t={};for(var s of e.entries()){let e=s[0],n=s[1];if(this.fieldSupportsMultipleValues(e)){let s=t.hasOwnProperty(e)?t[e]:[];s.push(n),t[e]=s}else t[e]=n}return t}switchToType(e){this.setLoading(!0),((e,t=AC.list_screen)=>{var s;return a.post(ajaxurl,l({_ajax_nonce:AC._ajax_nonce,action:"ac-columns",current_original_columns:JSON.stringify(null===(s=AC_SERVICES.getService("Form"))||void 0===s?void 0:s.getOriginalColumns().map((e=>e.getName()))),id:"select",list_screen:t,type:e}))})(e).then((e=>{if(e.data.success){let t=u(e.data.data.trim()).firstChild;this.name=p(),this.reinitColumnFromElement(t).open()}else this.showMessage(e.data.data.error)})).catch((()=>{this.showMessage(AC.i18n.errors.loading_column)})).finally((()=>this.setLoading(!1)))}refresh(){this.setLoading(!0),((e,t,s=AC.list_screen)=>a.post(ajaxurl,l({_ajax_nonce:AC._ajax_nonce,action:"ac-columns",column_name:e,data:t,id:"refresh",list_screen:s})))(this.getName(),JSON.stringify(this.getJson())).then((e=>{e.data.success?(this.reinitColumnFromElement(u(e.data.data.trim()).firstChild),this.services.emitEvent(t.REFRESHED,this),this.isOpen()&&this.open()):this.showMessage(AC.i18n.errors.loading_column)})).finally((()=>this.setLoading(!1)))}fieldSupportsMultipleValues(e){let t=this.getElement().elements[e];return t&&"SELECT"===t.tagName&&t.hasAttribute("multiple")}reinitColumnFromElement(e){var t;return null===(t=this.getElement().parentNode)||void 0===t||t.replaceChild(e,this.getElement()),this.element=e,this.setPropertiesByElement(e).init(),this}}class E{constructor(t,s){this.form=t,this.services=s,this.columns=[],this.services.emitEvent(e.LOADED,this),this.init()}init(){this.initColumns(),this.isDisabled()&&(this.disableFields(),this.disableColumns()),this.services.emitEvent(e.READY,this)}getElement(){return this.form}getColumns(){return this.columns}getSortedColumns(){let e=[];return this.getElement().querySelectorAll("form.ac-column").forEach((t=>{let s=this.columns.find((e=>e.getName()===t.dataset.columnName));s&&e.push(s)})),e}placeColumn(e,t=null){var s;return t?((e,t)=>{var s;null===(s=null==t?void 0:t.parentNode)||void 0===s||s.insertBefore(e,t.nextSibling)})(e.getElement(),t):null===(s=this.getElement().querySelector(".ac-columns"))||void 0===s||s.append(e.getElement()),setTimeout((()=>{((e,t,s={})=>{var n;let i=Object.assign({},{offset:0},s);const r=e.offsetTop+(null!==(n=i.offset)&&void 0!==n?n:0),o=window.pageYOffset,a=r-o;let l;window.requestAnimationFrame((function e(s){l||(l=s);let n=s-l,i=Math.min(n/t,1);window.scrollTo(0,o+a*i),n<t&&window.requestAnimationFrame(e)}))})(e.getElement(),300,{offset:-18})}),300),this}createNewColumn(){let e=b(this.services);return this.columns.push(e),this.placeColumn(e),this.bindColumnEvents(e),e.open(300),e}isDisabled(){return this.form.classList.contains("-disabled")}getOriginalColumns(){return this.columns.filter((e=>e.isOriginal()))}disableColumns(){this.columns.forEach((e=>e.disable()))}initColumns(){this.getElement().querySelectorAll(".ac-column").forEach((e=>{var t;let s=new y(e,null!==(t=e.dataset.columnName)&&void 0!==t?t:"",this.services);this.columns.push(s),this.bindColumnEvents(s)}))}bindColumnEvents(e){e.events.addListener(g,(()=>{this.removeColumn(e.getName())})),e.events.addListener(v,(()=>{let t=new y(e.getElement().cloneNode(!0),p(),this.services);this.columns.push(t),this.placeColumn(t,e.getElement()).bindColumnEvents(t),e.isOpen()?t.open():t.close(),h(t.getElement(),300)}))}resetColumns(){this.columns.forEach((e=>{e.destroy()})),this.columns=[]}getFormData(){let e={},t=this.getElement().querySelector("input[name=title]");return this.getSortedColumns().forEach((t=>{e[t.getName()]=t.getJson()})),{title:t?t.value:"",list_screen:AC.list_screen,list_screen_id:AC.layout,columns:e,settings:this.getPreferences()}}disableFields(){this.getElement().querySelectorAll("input, select, button").forEach((e=>{e.setAttribute("readonly","readonly"),e.setAttribute("disabled","disabled")}))}submitForm(){var t;this.services.emitEvent(e.SAVING,this),(t=this.getFormData(),a.post(ajaxurl,l({action:"ac-columns",id:"save",_ajax_nonce:AC._ajax_nonce,data:JSON.stringify(t)}))).then((e=>{if(e.data.success)this.showMessage(e.data.data.message,"updated"),AC.layout=e.data.data.list_id;else if(e.data){let t=e.data;this.showMessage(t.data.message,"notice notice-warning")}})).catch((()=>{this.showMessage(AC.i18n.error.save_settings)})).finally((()=>{this.services.emitEvent(e.SAVED,this)}))}showMessage(e,t="updated"){let s=c.create("div").addClass("ac-message").addClasses(...t.split(" ")).addHtml(`<p>${e}</p>`).getElement(),n=document.querySelector(".ac-admin__main");n&&(n.querySelectorAll(".ac-message").forEach((e=>e.remove())),n.insertAdjacentElement("afterbegin",s)),h(s,600)}removeColumn(e){this.columns.forEach(((t,s)=>{e===t.getName()&&this.columns.splice(s,1)}))}getPreferences(){let e={};return document.querySelectorAll("form[data-form-part=preferences]").forEach((t=>{let s=new FormData(t);for(let n of s.entries()){let i=n[0],r=n[1],o=t.elements[i];e[i]="SELECT"===o.tagName&&o.hasAttribute("multiple")?s.getAll(i):e[i]=r}})),e}}const b=e=>{var t;let s=null===(t=document.querySelector("#add-new-column-template .ac-column"))||void 0===t?void 0:t.cloneNode(!0);const n=p();return s.querySelectorAll("label[for]").forEach((e=>{let t=e.getAttribute("for");if(t){let i=s.querySelector(`#${t}`);if(i){const s=t+n;e.setAttribute("for",s),i.id=s}}})),new y(s,n,e)};class w{constructor(){this.filters={}}addFilter(e,t,s=10){this.filters.hasOwnProperty(e)||(this.filters[e]={}),this.filters[e].hasOwnProperty(s)||(this.filters[e][s]=[]),this.filters[e][s].push(t)}applyFilters(e,t,s={}){return this.filters.hasOwnProperty(e)?(Object.keys(this.filters[e]).forEach((n=>{this.filters[e][parseInt(n)].forEach((e=>{t=e(t,s)}))})),t):t}}class S{constructor(){this.services={},this.events=new(o()),this.filters=new w,this.$=c}registerService(e,t){return this.services[e]=t,this}getService(e){return this.hasService(e)?this.services[e]:null}hasService(e){return this.services.hasOwnProperty(e)}addListener(e,t){this.events.addListener(e,t)}emitEvent(e,t){this.events.emit(e,t)}}const A=()=>(window.AC_SERVICES||(window.AC_SERVICES=new S),window.AC_SERVICES),_=(e,t)=>{var s;let n=null===(s=e.closest(".col-label"))||void 0===s?void 0:s.querySelector("div.tooltip");n&&(n.style.display=t)};class L{constructor(e){var t;this.el=e,this.dialog=null!==(t=e.querySelector(".ac-modal__dialogs"))&&void 0!==t?t:document.createElement("div"),this.initEvents()}getElement(){return this.el}initEvents(){document.addEventListener("keydown",(e=>{const t=e.key;this.isOpen()&&"Escape"===t&&this.close()}));let e=this.el.querySelectorAll('[data-dismiss="modal"], .ac-modal__dialog__close');e.length>0&&e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.close()}))})),this.el.addEventListener("click",(e=>{e.target.classList.contains("ac-modal")&&self.close()}))}isOpen(){return this.el.classList.contains("-active")}close(){this.onClose(),this.el.classList.remove("-active")}open(){setTimeout((()=>{this.onOpen(),this.el.removeAttribute("style"),this.el.classList.add("-active")}))}destroy(){this.el.remove()}onClose(){}onOpen(){}}class q{constructor(e,t){this.column=e,this.setting=t,this.column=e,this.setting=t,this.field=this.setting.querySelector(".ac-setting-input_label");let s=e.getElement().querySelector(".-iconpicker");s&&(this.modal=new C(s),this.modal.setIconSelection(this.getDashIconFromValue()),this.initEvents())}initEvents(){this.column.getElement().querySelectorAll(".ac-setting-label-icon").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.modal.open()}))})),this.modal.onSubmit((()=>{this.setLabel(this.modal.getDashIconMarkup()),this.modal.close()}))}getDashIconFromValue(){let e=document.createRange().createContextualFragment(this.getValue()).querySelector(".dashicons"),t="";return e?(e.classList.forEach((e=>{0===e.indexOf("dashicons-")&&(t=e.replace("dashicons-",""))})),t):t}getValue(){var e,t;return null!==(t=null===(e=this.field)||void 0===e?void 0:e.value)&&void 0!==t?t:""}setLabel(e){this.field&&(this.field.value=e,this.field.dispatchEvent(new Event("change")))}}class C extends L{constructor(e){super(e),this.events=new(o()),this.dashIcon="",this.search=new x(this)}initEvents(){super.initEvents(),this.getElement().querySelectorAll('[data-action="submit"]').forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.events.emit("submit")}))})),this.getElement().querySelectorAll("input[type=search]").forEach((e=>{["keyup","search"].forEach((t=>{e.addEventListener(t,(t=>{t.preventDefault(),this.search.searchFor(e.value)}))}))})),this.getIconElements().forEach((e=>{e.addEventListener("click",(t=>{var s;t.preventDefault(),this.setIconSelection(null!==(s=e.dataset.dashicon)&&void 0!==s?s:""),this.getIconElements().forEach((e=>e.classList.remove("active"))),e.classList.add("active")}))}))}getIconElements(){return this.getElement().querySelectorAll(".ac-ipicker__icon")}onSubmit(e){this.events.on("submit",e)}getDashIconMarkup(){return`<span class="dashicons dashicons-${this.dashIcon}"></span>`}setIconSelection(e){let t=this.getElement().querySelector(".ac-ipicker__selection");this.dashIcon=e,t&&(t.innerHTML=this.getDashIconMarkup(),t.style.visibility="visible")}}class x{constructor(e){this.modal=e}searchFor(e){this.modal.getElement().querySelectorAll("[data-dashicon]").forEach((t=>{var s;-1!==(null===(s=t.dataset.dashicon)||void 0===s?void 0:s.indexOf(e.toLowerCase()))?t.style.display="inline-block":t.style.display="none"})),this.determineVisibilityGroups()}determineVisibilityGroups(){this.modal.getElement().querySelectorAll(".ac-ipicker__group").forEach((e=>{let t=e.querySelectorAll("[data-dashicon]"),s=Array.from(t).filter((e=>null===e.offsetParent)),n=e.querySelector("h3");n&&(n.style.display=t.length==s.length?"none":"block")}))}}class k{constructor(e,t){this.column=e,this.setting=t,this.field=this.setting.querySelector(".ac-setting-input select"),this.initState(),this.bindEvents()}getValue(){var e;return null===(e=this.field)||void 0===e?void 0:e.value}bindEvents(){var e;null===(e=this.field)||void 0===e||e.addEventListener("change",(()=>this.initState()))}initState(){this.toggleSubSettings("cpac-custom"===this.getValue())}toggleSubSettings(e=!0){this.setting.querySelectorAll(".ac-column-setting").forEach((t=>t.style.display=e?"table":"none"))}}const O=s(669);class T{constructor(e,t){this.column=e,this.setting=t,this.bindEvents()}bindEvents(){this.refreshPreview(),this.setting.querySelectorAll("input").forEach((e=>{e.addEventListener("change",(()=>this.refreshPreview()))}))}refreshPreview(){this.getExampleRequest().then((e=>{this.setting.querySelectorAll("[data-preview]").forEach((t=>t.textContent=e.data.data))}))}getValue(){let e=this.setting.querySelector(".ac-setting-input_number_decimals"),t=this.setting.querySelector(".ac-setting-input_number_decimal_point"),s=this.setting.querySelector(".ac-setting-input_number_thousands_separator");return{decimals:e?e.value:"",decimal_point:t?t.value:"",thousands_point:s?s.value:""}}getExampleRequest(){const e=this.getValue();let t=new FormData;return t.set("action","ac_number_format"),t.set("number","7500"),t.set("decimals",e.decimals),t.set("decimal_point",e.decimal_point),t.set("thousands_sep",e.thousands_point),O.post(ajaxurl,t,{})}}function j(e,t){if(""===jQuery.trim(e.term))return t;if(void 0===t.children)return null;var s=[];if(jQuery.each(t.children,(function(t,n){n.text.toUpperCase().indexOf(e.term.toUpperCase())>-1&&s.push(n)})),s.length){var n=jQuery.extend({},t,!0);return n.children=s,n}return null}class I{constructor(e,t){this.column=e,this.setting=t,this.bindEvents()}bindEvents(){const e=this.setting.querySelector(".ac-setting-input_type"),t=this.setting,s=this.column;e&&(e.removeAttribute("data-select2-id"),this.setting.querySelectorAll(".select2").forEach((e=>{e.remove()})),i()(e).ac_select2({theme:"acs2",width:"100%",dropdownCssClass:"-type-selector",escapeMarkup:function(e){return e},templateResult:function(e){let n=e.text;return e.hasOwnProperty("id")&&e.id.includes("placeholder-")&&(n+='<span style="background-color:#FE3D6C; color:#fff; font-size: 10px; margin-top: -1px; padding: 1px 5px; border-radius: 2px; text-transform: uppercase;float: right; margin-right 10px;">PRO</span>'),A().filters.applyFilters("column_type_templates",n,{setting:t,column:s,result:e})},matcher:j}))}}class N{constructor(e,t){this.column=e,this.setting=t,this.events=new(o()),this.indicator=new D(e.getElement().querySelector(".ac-column-heading-setting--width")),this.widthInput=this.setting.querySelector("[data-width-input]"),this.unitInput=this.setting.querySelectorAll("[data-unit-input] input"),this.init()}getWidth(){var e,t;return+(null!==(t=null===(e=this.widthInput)||void 0===e?void 0:e.value)&&void 0!==t?t:0)}setWidth(e){this.widthInput&&(this.widthInput.value=e?e.toString():""),this.updateIndicator()}updateUnit(){this.setting.querySelector(".description .unit").innerHTML=this.getUnit()}getUnit(){var e,t;return null!==(t=null===(e=this.setting.querySelector("[data-unit-input] input:checked"))||void 0===e?void 0:e.value)&&void 0!==t?t:"0"}getValue(){return{width:this.getWidth(),unit:this.getUnit()}}validate(){let e=this.getWidth();(0===e||e<0)&&this.setWidth(""),"%"===this.getUnit()&&e>100&&this.setWidth(100)}init(){var e;null===(e=this.widthInput)||void 0===e||e.addEventListener("keyup",(()=>{this.updateIndicator(),this.initSlider(),this.validate()})),this.unitInput.forEach((e=>{e.addEventListener("change",(()=>{this.initSlider(),this.updateIndicator(),this.updateUnit(),this.validate()}))})),this.initSlider()}updateIndicator(){this.indicator.setValue(this.getWidth(),this.getUnit())}initSlider(){this.column.getElement().querySelectorAll(".width-slider").forEach((e=>{i()(e).slider({range:"min",min:0,max:"%"===this.getUnit()?100:500,value:this.getWidth(),slide:(e,t)=>{this.setWidth(t.value)}})}))}}class D{constructor(e){this.element=e,this.events=new(o())}setValue(e,t){if(null===e)return this.element.innerText="";this.element.innerText=`${e.toString()}${t}`}}const R=s(669);class F{constructor(e,t){this.column=e,this.setting=t,this.options=this.setting.querySelectorAll(".radio-labels input[type=radio]"),this.valueInput=this.setting.querySelector("[data-value-input]");let s=this.setting.querySelector(".radio-labels code");this.defaultFormat=s?s.textContent:"Y-m-d";let n=[...this.options].filter((e=>void 0!==e.dataset.custom));this.customOption=new P(n[0],this.setting.querySelector("[data-custom-date]"),this.setting.querySelector(".ac-setting-input-date__example"),this.valueInput),this.initEvents()}getOptionsAsArray(){return Array.from(this.options)}getSelectionOption(){let e=this.getOptionsAsArray().filter((e=>e.checked));return e?e[0]:null}initEvents(){this.options.forEach((e=>{e.addEventListener("change",(()=>this.handleUpdate(e)))})),this.setSelected(),this.customOption.updateExample()}setSelected(){let e=this.getOptionsAsArray().find((e=>e.value===this.getCurrentValue()));e&&(e.checked=!0,e.dispatchEvent(new Event("change")))}handleUpdate(e){var t,s,n;this.valueInput.value=e.value,this.customOption.toggle(void 0!==e.dataset.custom);let i=null!==(n=null===(s=null===(t=e.closest("label"))||void 0===t?void 0:t.querySelector("[data-help]"))||void 0===s?void 0:s.innerHTML)&&void 0!==n?n:"";if(this.setHelpText(i),void 0===e.dataset.custom){switch(this.valueInput.value){case"custom":break;case"wp_default":case"diff":this.customOption.setExample("");break;default:this.customOption.setExample(this.valueInput.value)}this.customOption.updateExample()}}getCurrentValue(){return this.valueInput.value}setHelpText(e){let t=this.setting.querySelector(".help-msg");t&&(t.innerHTML=e,t.style.display="block")}}class P{constructor(e,t,s,n){this.radio=e,this.input=t,this.example=s,this.valueElement=n,this.timeout=null,this.input.addEventListener("change",(()=>{this.updateExample(),e.checked&&(this.valueElement.value=this.input.value)})),this.input.addEventListener("keyup",(()=>{e.checked&&(this.valueElement.value=this.input.value),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.updateExample()),500)}))}setExample(e){this.input.value=e}updateExample(){this.getExample().then((e=>{this.example.innerHTML=e.data}))}toggle(e=!0){e?this.input.removeAttribute("disabled"):this.input.setAttribute("disabled","disabled")}getExample(){let e=new FormData;return e.set("action","date_format"),e.set("date",this.input.value),R.post(ajaxurl,e,{})}}const M=s(669);class U{constructor(e,t){this.column=e,this.setting=t,this.select=t.querySelector(".custom_field"),this.bindEvents()}bindEvents(){var e,t;const s=V(null!==(e=this.select.dataset.type)&&void 0!==e?e:"",null!==(t=this.select.dataset.post_type)&&void 0!==t?t:""),n=this.column.getElement().querySelectorAll('[data-setting="edit"][data-indicator-toggle]').length>0;this.select.querySelectorAll("optgroup").forEach((e=>{e.remove()})),this.select.removeAttribute("data-select2-id"),this.setting.querySelectorAll(".select2").forEach((e=>{e.remove()})),s.getOptions().then((e=>{i()(this.select).ac_select2({theme:"acs2",width:"100%",tags:n,dropdownCssClass:"-customfields",data:e})}))}}class B{constructor(e,t){this.metaType=e,this.postType=t,this.loading=!1,this.data=null,this.events=new(o())}retrieveOptions(){this.loading=!0;let e=new FormData;return e.set("action","ac_custom_field_options"),e.set("post_type",this.postType),e.set("meta_type",this.metaType),e.set("_ajax_nonce",AC._ajax_nonce),M.post(ajaxurl,e)}getOptions(){return new Promise(((e,t)=>{this.data?e(this.data):this.loading?this.events.on("loaded",(()=>{e(this.data)})):this.retrieveOptions().then((s=>{s.data.success||t(),this.data=s.data.data.results,this.events.emit("loaded"),e(this.data)}))}))}}const V=(e,t)=>{const s=`custom_field_${e}_${t}`;return void 0===window.AC_Requests&&(window.AC_Requests={}),window.AC_Requests.hasOwnProperty(s)||(window.AC_Requests[s]=new B(e,t)),window.AC_Requests[s]};class H{constructor(e){this.element=e,this.inputs=e.querySelectorAll('.ac-setting-input input[type="radio"]'),this.subFields=e.querySelectorAll(".ac-column-setting"),this.initState(),this.initEvents()}initEvents(){this.inputs.forEach((e=>{e.addEventListener("change",(()=>this.initState()))}))}initState(){this.isOptionEnabled()?this.subFields.forEach((e=>e.style.display="table")):this.subFields.forEach((e=>e.style.display="none"))}isOptionEnabled(){let e=Array.from(this.inputs).filter((e=>e.checked));return!!e.length&&"on"===e[0].value}}class ${constructor(e,t){this.column=e,this.select=t,this.bindEvents()}bindEvents(){var e;this.select.removeAttribute("data-select2-id"),null===(e=this.select.parentElement)||void 0===e||e.querySelectorAll(".select2").forEach((e=>{e.remove()})),i()(this.select).ac_select2({theme:"acs2",width:"100%",escapeMarkup:function(e){return e}})}}var z=s(669),W=s.n(z);const G=(e,t,s="")=>{if(!t||"object"!=typeof t||t instanceof Date||t instanceof File){const n=null==t?"":t;e.append(s,n)}else Object.keys(t).forEach((n=>{G(e,t[n],s?`${s}[${n}]`:n)}))};class J{constructor(e,t,s,n){this.name=e,this.input=t,this.toggleClass=s,this.container=n,this.initEvents()}initEvents(){this.input.addEventListener("change",(()=>{this.input.checked?this.container.classList.add(this.toggleClass):this.container.classList.remove(this.toggleClass),this.persist()}))}persist(){W().post(ajaxurl,((e,t=null)=>{let s=null!=t?t:new FormData;return Object.keys(e).forEach((t=>{G(s,e[t],t)})),s})({action:"ac_admin_screen_options",_ajax_nonce:AC._ajax_nonce,option_name:this.name,option_value:this.input.checked?1:0}))}}const X=()=>{document.querySelectorAll(".ac-tooltip").forEach((e=>e.remove())),document.querySelectorAll("[data-ac-tip]").forEach((e=>{new Y(e)}))};class Y{constructor(e,t=""){this.element=e,this.content=t||e.dataset.acTip,this.tip=Q(this.content),this.initEvents()}initEvents(){"1"!==this.element.dataset.acTooltipInit&&(this.element.dataset.acTooltipInit="1",this.element.addEventListener("mouseenter",(()=>{const e=document.body.getBoundingClientRect(),t=this.element.getBoundingClientRect();document.body.appendChild(this.tip),this.tip.style.left=t.left-e.left+this.element.offsetWidth/2+"px",this.tip.style.top=t.top-e.top+this.element.offsetHeight+"px",this.tip.classList.add("hover")})),this.element.addEventListener("mouseleave",(()=>{this.tip.classList.remove("hover"),document.body.removeChild(this.tip)})))}}const Q=e=>{let t=document.createElement("div");return t.classList.add("ac-tooltip"),t.innerHTML=e,t},K=s(311);class Z{constructor(e){this.element=e,this.settings=this.getDefaults(),this.init(),this.setInitialized()}setInitialized(){ee.add(this.element)}getDefaults(){return{width:this.element.getAttribute("data-width")?this.element.getAttribute("data-width"):250,noclick:!!this.element.getAttribute("data-noclick")&&this.element.getAttribute("data-noclick"),position:this.getPosition()}}isInitialized(){return ee.isInitialized(this.element)}init(){this.isInitialized()||(K(this.element).mouseenter((()=>{K(this.element).pointer({content:this.getRelatedHTML(),position:this.settings.position,pointerWidth:this.settings.width,pointerClass:this.getPointerClass()})})),this.initEvents())}getPosition(){let e={at:"left top",my:"right top",edge:"right"},t=this.element.getAttribute("data-pos"),s=this.element.getAttribute("data-pos_edge");return"right"===t&&(e={at:"right middle",my:"left middle",edge:"left"}),"right_bottom"===t&&(e={at:"right middle",my:"left bottom",edge:"none"}),"left"===t&&(e={at:"left middle",my:"right middle",edge:"right"}),s&&(e.edge=s),e}getPointerClass(){let e=["ac-wp-pointer","wp-pointer","wp-pointer-"+this.settings.position.edge];return this.settings.noclick&&e.push("noclick"),e.join(" ")}getRelatedHTML(){var e,t,s;return null!==(s=null===(t=document.getElementById(null!==(e=this.element.getAttribute("rel"))&&void 0!==e?e:""))||void 0===t?void 0:t.innerHTML)&&void 0!==s?s:""}initEvents(){let e=K(this.element);this.settings.noclick||e.click((function(){e.hasClass("open")?e.removeClass("open"):e.addClass("open")})),e.click((function(){e.pointer("open")})),e.mouseenter((function(){e.pointer("open"),setTimeout((()=>{e.pointer("open")}),2)})),e.mouseleave((function(){setTimeout((()=>{e.hasClass("open")||0!==K(".ac-wp-pointer.hover").length||e.pointer("close")}),1)})),e.on("close",(()=>{setTimeout((()=>{e.hasClass("open")||e.pointer("close")}))}))}}class ee{static isInitialized(e){return this.initElements.filter((t=>t===e)).length>0}static add(e){this.initElements.push(e)}}ee.initElements=[];const te=(e=null)=>{e||(e=document.querySelectorAll(".ac-pointer")),e.forEach((e=>{new Z(e)})),K(".ac-wp-pointer").hover((function(){K(this).addClass("hover")}),(function(){K(this).removeClass("hover"),K(".ac-pointer").trigger("close")})).on("click",".close",(function(){K(".ac-pointer").removeClass("open")})),new class{constructor(){this.init()}init(){X()}}},se=s(669);class ne{constructor(e){this.listScreens=e,this.processed=[],this.errors=[],this.success=[],this.events=new(o()),this.run()}doAjaxCall(e){return se.get(e.screen_link)}run(){Object.values(this.listScreens).forEach((e=>this.processListScreen(e)))}onFinish(){this.success.length===Object.keys(this.listScreens).length&&this.events.emit("success"),this.errors.length>0&&this.events.emit("error")}checkFinish(){this.processed.length===Object.keys(this.listScreens).length&&this.onFinish()}processListScreen(e){this.doAjaxCall(e).then((t=>{"ac_success"===t.data?this.success.push(e):this.errors.push(e)})).catch((()=>{this.errors.push(e)})).finally((()=>{this.processed.push(e),this.checkFinish()}))}}let ie=A();ie.registerService("Modals",new class{constructor(){this.modals={},this.number=0,this.defaults={modal:L},this.initGlobalEvents()}register(e,t=""){return t||(t="m"+this.number),this.modals[t]=e,this.number++,e}get(e){return this.modals.hasOwnProperty(e)?this.modals[e]:null}open(e){var t;null===(t=this.get(e))||void 0===t||t.open()}close(e){var t;null===(t=this.get(e))||void 0===t||t.close()}closeAll(){for(let e in this.modals)this.close(e)}initGlobalEvents(){document.addEventListener("click",(e=>{let t=e.target;t.dataset.acModal&&(e.preventDefault(),this.open(t.dataset.acModal))}))}}),new class{constructor(e){e.addListener(t.INIT,(e=>{(e=>{e.getElement().querySelectorAll('[data-toggle="column"]').forEach((t=>{t.addEventListener("click",(t=>e.toggle())),t.style.cursor="pointer"}))})(e),(e=>{e.isDisabled()||e.getElement().querySelectorAll("[data-indicator-toggle]").forEach((t=>{let s=e.getElement().querySelectorAll(`.ac-column-setting[data-setting='${t.dataset.setting}'] .col-input .ac-setting-input:first-child input[type=radio]`);t.addEventListener("click",(()=>{((e,t)=>{let s=e?"on":"off";t.forEach((e=>{e.value===s&&(e.checked=!0,e.dispatchEvent(new Event("change")),e.dispatchEvent(new Event("click")))}))})(!t.classList.contains("on"),s)})),s.forEach((e=>{e.addEventListener("change",(()=>{"off"===e.value?t.classList.remove("on"):t.classList.add("on")}))}))}))})(e),(e=>{e.getElement().querySelectorAll("select.ac-setting-input_type").forEach((t=>{i()(t).on("change",(()=>e.switchToType(t.value)))}))})(e),(e=>{e.getElement().querySelectorAll("[data-remove-column]").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e.remove()}))}))})(e),(e=>{e.getElement().querySelectorAll(".clone-button").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e.isOriginal()||e.events.emit(v)}))}))})(e),(e=>{let t=e.getElement().querySelector(".ac-column-setting--label input[type=text]");var s,n;t&&(s=t,n=()=>((e,t)=>{t.getElement().querySelectorAll("[data-column-label]").forEach((t=>t.innerHTML=e.value))})(t,e),["change","keyup"].forEach((e=>s.addEventListener(e,n))))})(e),(e=>{e.getElement().querySelectorAll(".col-label .label").forEach((e=>{var t,s,n;s=()=>_(e,"block"),n=()=>_(e,"none"),(t=e).addEventListener("mouseenter",s),t.addEventListener("mouseleave",n)}))})(e),(e=>{e.getElement().querySelectorAll('select[data-label="update"]').forEach((t=>{t.addEventListener("change",(()=>{let s=e.getElement().querySelector("input.ac-setting-input_label"),n=t.selectedOptions.length>0?t.selectedOptions[0]:null;s&&n&&(s.value=n.innerHTML,s.dispatchEvent(new Event("change")))}))})),setTimeout((()=>{e.getElement().querySelectorAll("[data-column-label]").forEach((t=>{t.offsetWidth<10&&(t.innerText=e.getType())}))}),50)})(e),(e=>{e.getElement().querySelectorAll('[data-refresh="column"], [data-refresh="column"] input').forEach((t=>{t.addEventListener("change",(()=>{setTimeout((()=>e.refresh()),50)}))}))})(e),(e=>{e.getElement().querySelectorAll("select[multiple]").forEach((t=>{new $(e,t)}))})(e),(e=>{let t=e.getElement().querySelector(".ac-column-setting--label");t&&new q(e,t)})(e),(e=>{let t=e.getElement().querySelector(".ac-column-setting--image");t&&new k(e,t)})(e),(e=>{e.getElement().querySelectorAll(".ac-column-setting--number_format").forEach((t=>{new T(e,t)}))})(e),(e=>{e.getElement().querySelectorAll('[data-setting="type"]').forEach((t=>{new I(e,t)}))})(e),(e=>{e.getElement().querySelectorAll('table[data-setting="width"]').forEach((t=>new N(e,t)))})(e),(e=>{e.getElement().querySelectorAll("[data-setting=date]").forEach((t=>new F(e,t)))})(e),(e=>{e.getElement().querySelectorAll(".ac-column-setting--pro").forEach((e=>{e.querySelectorAll("input").forEach((t=>{t.addEventListener("click",(()=>i()(e).find("[data-ac-modal]").trigger("click")))}))}))})(e),(e=>{e.getElement().querySelectorAll("[data-setting=custom_field]").forEach((t=>new U(e,t)))})(e),(e=>{e.getElement().querySelectorAll(".ac-column-setting--filter,.ac-column-setting--sort,.ac-column-setting--edit").forEach((e=>{new H(e)}))})(e)}))}}(ie),document.addEventListener("DOMContentLoaded",(()=>{re(),document.querySelectorAll("#listscreen_settings").forEach((e=>{ie.registerService("Form",new E(e,ie))})),ie.hasService("Modals")&&document.querySelectorAll("#ac-modal-pro").forEach((e=>{var t;null===(t=ie.getService("Modals"))||void 0===t||t.register(new L(e),"pro")})),document.querySelectorAll("#ac_list_screen").forEach((e=>{e.addEventListener("change",(()=>{var t;document.querySelectorAll(".view-link").forEach((e=>e.style.display="none")),null===(t=e.closest("form"))||void 0===t||t.submit(),e.disabled=!0,e.nextElementSibling.style.display="inline-block"}))})),document.querySelectorAll("#direct-feedback").forEach((e=>new class{constructor(e){this.element=e,this.init()}init(){var e,t;null===(e=this.element.querySelector("a.no"))||void 0===e||e.addEventListener("click",(e=>{e.preventDefault(),d(this.element.querySelector("#feedback-choice"),300,(()=>{h(this.element.querySelector("#feedback-support"),300)}))})),null===(t=this.element.querySelector("a.yes"))||void 0===t||t.addEventListener("click",(e=>{e.preventDefault(),d(this.element.querySelector("#feedback-choice"),300,(()=>{h(this.element.querySelector("#feedback-rate"),300)}))}))}}(e))),AC.hasOwnProperty("uninitialized_list_screens")&&(e=>{if(Object.keys(e).length>0)if(e.hasOwnProperty(AC.list_screen)){const t=new ne({[AC.list_screen]:e[AC.list_screen]});t.events.on("error",(()=>{document.querySelectorAll(".ac-loading-msg-wrapper").forEach((e=>e.remove())),document.querySelectorAll(".menu").forEach((e=>e.classList.remove("hidden")))})),t.events.on("success",(()=>{window.location.href=`${location.href}&t=${Date.now()}`}))}else new ne(e)})(AC.uninitialized_list_screens),document.querySelectorAll('[data-ac-screen-option="show_column_id"] input').forEach((e=>new J("show_column_id",e,"show-column-id",document.querySelector(".ac-boxes")))),document.querySelectorAll('[data-ac-screen-option="show_column_type"] input').forEach((e=>new J("show_column_type",e,"show-column-type",document.querySelector(".ac-boxes")))),document.querySelectorAll('[data-ac-screen-option="show_list_screen_id"] input').forEach((e=>new J("show_list_screen_id",e,"show-list-screen-id",document.querySelector(".ac-admin")))),document.querySelectorAll('[data-ac-screen-option="show_list_screen_type"] input').forEach((e=>new J("show_list_screen_type",e,"show-list-screen-type",document.querySelector(".ac-admin"))))})),ie.addListener(e.LOADED,(e=>{document.querySelectorAll(".add_column").forEach((t=>t.addEventListener("click",(()=>e.createNewColumn())))),document.querySelectorAll("a[data-clear-columns]").forEach((t=>t.addEventListener("click",(()=>e.resetColumns()))));let t=i()(e.getElement());t.hasClass("ui-sortable")?t.sortable("refresh"):t.sortable({items:".ac-column",handle:"[data-sort-handle]"})})),ie.addListener(e.SAVING,(()=>{var e;null===(e=document.querySelector("#cpac .ac-admin"))||void 0===e||e.classList.add("saving")})),ie.addListener(e.SAVED,(()=>{var e,t;null===(e=document.querySelector("#cpac .ac-admin"))||void 0===e||e.classList.remove("saving"),null===(t=document.querySelector("#cpac .ac-admin"))||void 0===t||t.classList.add("stored")})),ie.addListener(t.INIT,(e=>{X(),te(e.getElement().querySelectorAll(".ac-pointer"))}));const re=()=>{const t=document.querySelectorAll(".sidebox a.submit, .column-footer a.submit");ie.addListener(e.READY,(e=>{t.forEach((s=>{s.addEventListener("click",(s=>{s.preventDefault(),t.forEach((e=>e.setAttribute("disabled","disabled"))),e.submitForm()}))}))})),ie.addListener(e.SAVED,(()=>t.forEach((e=>e.removeAttribute("disabled")))))}})()})();